<%
  parent = @qnc_check.qnc_check_requestable
  actions_content = []
  
  if parent.present?
    parent_type = parent.class.name.split("::").last.humanize
    actions_content << link_to(polymorphic_path(parent, tab: :qnc_check_requests), 
                              class: "btn btn-sm btn-primary d-flex align-items-center gap-2") do
      content_tag(:i, "", class: "bi bi-arrow-left") + 
      content_tag(:span, "Back to #{parent_type}")
    end
  end
  
  actions_content << render("shared/print_qr_button", qr_code_path: qr_code_experiments_qnc_check_path(@qnc_check))
  
  actions_html = actions_content.join.html_safe
%>

<% content_for :page_title, render("shared/page_title", 
  subtitle: "View QNC check request details.",
  actions: actions_html
) %>

<%= render "shared/sidebar_layout/layout",
    tabs: ["details", "data_files", "comments"],
    tab_path: :experiments_qnc_check_path,
    path_args: [@qnc_check],
    bottom_action: render("shared/edit_button", label: "Edit QNC Check Request", path: edit_experiments_qnc_check_path(@qnc_check)) do %>

  <%= render (params[:tab] || "details"), qnc_check: @qnc_check %>

<% end %>


